<div class="full-flex" [ngClass]="{'page-content-plus-header': successfullyLogged}">
    <app-header (headerChannelSelcted)="onHeaderchannelSelected($event)"
        (headerUserSelected)="onHeaderUserSelected($event)"></app-header>
    <div class="main-content">
        <div class="full-page-content">
            <app-workspace (mobileChannelSelected)="handleMobileChannelSelected()" [ngClass]="{

            'workspace-open': isWorkspaceOpen,
            'workspace-closed':!isWorkspaceOpen,
            'close-box':global.openChannelorUserBox,
            'open-box':!global.openChannelorUserBox

        }" (userSelected)="onUserSelected($event)" (channelSelected)="onChannelSelected($event)"></app-workspace>

            <app-start-screen   [ngStyle]="{'width': startScreenWidth}"(enterChat)="handleEnterChat($event)"
                [ngClass]="{
             'startScreen-open':global.openChannelorUserBox || !isWorkspaceOpen,
             'start-screen-reduced': reduceStartScreen,
    'start-screen-full': !reduceStartScreen,
              'hidden': !global.openChannelorUserBox}"
                (userSelectedFromStartscreen)="handleUserSelectionFromStartscreen($event)"
                (channelSelectedFromStartscreen)="handleChannelSelectionFromStartscreen($event)"
                (userSelected)="onUserSelected($event)" [onHeaderChannel]="onHeaderChannel"
                [onHeaderUser]="onHeaderUser" [selectedUser]="selectedUser" [mentionUser]="mentionUser"
                [selectedChannel]="selectedChannel" (threadOpened)="onThreadOpened()"
                (channelSelected)="onChannelSelected($event)" (threadOpenedToHome)="onThreadOpened()">
            </app-start-screen>

            <app-thread
                [ngClass]="{'full-thread-width': ((!global.openChannelorUserBox && !isWorkspaceOpen) || specialSpaceOption)}"
                *ngIf="directThreadId || channelThreadId" [directThreadId]="directThreadId"
                [channelThreadId]="channelThreadId" (closeThread)="onThreadClosed()" [selectedUser]="selectedUser"
                [selectedChannel]="selectedChannel" (userSelectedFromThread)="handleUserSelectionFromThread($event)"
                (userSelectedFromChannelThread)="handleUserSelectionFromChannelThread($event)">
            </app-thread>
        </div>
    </div>
</div>

<div *ngIf="successfullyLogged" class="overlay"></div>
<mat-card *ngIf="successfullyLogged" appearance="outlined" class="login-sended-info"
    [ngClass]="{'visible': successfullyLogged, 'hidden': !successfullyLogged}">
    <mat-card-content class="success-login-content">
        <span class="sended-text">
            Login als <span class="guest-or-mail">
                <b>
                    {{
                    isGuestLogin
                    ? 'Gast'
                    : googleAccountLogIn
                    ? 'Google Nutzer'
                    : global.currentUserData.email
                    }}
                </b>

            </span>
        </span>
    </mat-card-content>
</mat-card>

<div class="overlay-contacts" *ngIf="isOverlayVisible && !successfullyLogged">
    <p>Lade Kontakte...</p>
    <div class="loading-dots">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
    </div>
</div>
<div class="workspace-opener" [class.hovered]="isHovered" (click)="toggleWorkspace()" (mouseenter)="isHovered = true"
    (mouseleave)="isHovered = false">
    <p>{{!global.openChannelorUserBox && isWorkspaceOpen ? 'Workspace-Menü schließen' : 'Workspace-Menü öffnen'}}</p>

    <img class="workspace-drawer" [src]="getImageSource()"
        [alt]="!global.openChannelorUserBox && isWorkspaceOpen  ? 'Hide workspace' : 'Show workspace'">
</div>